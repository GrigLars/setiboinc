#!/bin/sh
# /etc/init.d/boinc
# Start/stop/restart

BOINC_LOG="/var/log/boinc.log"
BOINC_PATH="/opt/BOINC"

boinc_start() {
    if [ -x /opt/BOINC/run_client ]; then
        echo "Starting BOINC..."
        $BOINC_PATH/run_client > $BOINC_LOG &
    fi
}
boinc_stop() {
    echo "Stopping BOINC..."
    sudo killall boinc
}
boinc_restart() {
    boinc_stop
    sleep 3
    boinc_start
}
case "$1" in
  'start')
          boinc_start
          ;;
  'stop')
          boinc_stop
          ;;
'restart')
          boinc_restart
          ;;
'attach')
        $BOINC_PATH/boinc -no_gui_rpc -attach_project http://setiathome.berkeley.edu d14af2375aa9c85dd1251f0f04d09654 > $BOINC_LOG &
        echo "Starting BOINC with Grig's account attached (first run)..."
          ;;
        *)
          echo "$0 start|stop|restart|attach" 
esac
